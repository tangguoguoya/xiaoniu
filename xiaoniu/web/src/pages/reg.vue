<template>
	<div class="reg">
		<div class="logo">
			<router-link to="/">
				<img src="../assets/logo.png"/>
			</router-link>
		</div>
		<div class="main">
			<h1>ç”¨æˆ·æ³¨å†Œ</h1>
			<div class="user">
				<div class="userName">
					ç”¨æˆ·å
					<input type="text" v-model="obj.userName" id="" placeholder="è¯·è¾“å…¥ç”¨æˆ·å" />
				</div>
				<div class="pwd">
					å¯†ç 
					<input type="password" v-model="obj.pwd" id="" placeholder="è¯·è¾“å…¥å¯†ç " />
				</div>
				<div class="new_pwd">
					ç¡®è®¤å¯†ç 
					<input type="password" v-model="new_pwd" id="" placeholder="è¯·ç¡®è®¤å¯†ç " />
				</div>
				<div class="tel">
					æ‰‹æœºå·
					<input type="text" v-model="obj.tel" id="" placeholder="è¯·è¾“å…¥æ‰‹æœºå·" />
				</div>
			</div>
			
			<div class="btn">
				<button class="btn_login" @click="submit()">æ³¨ å†Œ</button>
				<button class="btn_new" @click="clear()">é‡ ç½®</button>
			</div>
			<router-link to="/login" tag="div">æˆ‘æœ‰è´¦æˆ·</router-link>
		</div>
	</div>
</template>

<script>
	export default {
		data(){
			return {
				obj:{
					userName:"",
					pwd:"",
					tel:""
				},
				new_pwd:""
			}
		},
		methods: {
			async submit(){
				if (!this.obj.userName ||!this.obj.pwd || !this.new_pwd || !this.obj.tel) {
					alert("è´¦å·å¯†ç ä¸ä¸ºç©º")
					return false;
				} 
				if(this.obj.pwd != this.new_pwd){
					alert("ä¸¤æ¬¡å¯†ç ä¸ä¸€è‡´");
					return false;
				}
				let res = await this.$http.post("user",this.obj)
				alert("ğŸ’ğŸ’ æ³¨å†ŒæˆåŠŸï¼ğŸ’ğŸ’")
				console.log(res)
			},
			clear(){
				this.obj.userName = "",
				this.obj.pwd = "",
				this.new_pwd = "",
				this.obj.tel = ""
			}
		}
	}
</script>

<style scoped="scoped" lang="less">
.reg {
	.logo {
		text-align: center; padding: 1rem .2rem;
		img {
			width: 50%;height: auto;
		}
	}
	.main {
		text-align: center;
		
		h1 {font-size: .32rem;color: #666;padding-bottom: .3rem;}
		.user {
			div {
				border-top: 1px solid #EEEEEE;margin: 0 1rem;
				input {border: none;padding: .3rem .5rem;width: 3rem;}
			}
			.pwd{
				margin-right: .4rem;
			}
			
		}
		.btn {
			button {
				padding: .15rem .25rem;border: none;color: #FFFFFF;font-size: .25rem;margin: .3rem .15rem;border-radius: .06rem;
			}
			.btn_login {background: #26A2FF;}
			.btn_new {background: #f9080e;}
		}
		
	}
}
</style>